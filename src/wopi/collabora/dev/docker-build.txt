rem login to the docker hub account that hosts the repository we will be pushing the container image to
rem build using the Dockerfile instructions
rem tag the container with the relevant repository tags so we can push it
rem push the lot up to the repository

docker login

docker build -t fnhs-wopi-client:dev-1.0.0 .

docker tag fnhs-wopi-client:dev-1.0.0 fnhs-wopi-client:dev-latest

docker tag fnhs-wopi-client:dev-1.0.0 richardcds/fnhs-wopi-client:dev-latest
docker tag fnhs-wopi-client:dev-1.0.0 richardcds/fnhs-wopi-client:dev-1.0.0

docker push -a richardcds/fnhs-wopi-client
rem docker push richardcds/fnhs-wopi-client:dev-latest


rem run the container locally to talk to our file server hosted on port 44355

docker run -t -d -p 0.0.0.0:9980:9980 -e "domain=host\\.docker\\.internal:44355" -e "username=admin" -e "password=S3cRet" --name=fnhs-wopi-client --restart always --cap-add MKNOD richardcds/fnhs-wopi-client:dev-latest